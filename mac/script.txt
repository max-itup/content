#!/usr/bin/env bash
#
#
#  __  __              _____ _     _    _         _ 
# |  \/  |            |_   _| |   | |  | |       | |
# | \  / | __ ___  __   | | | |_  | |  | |_ __   | |
# | |\/| |/ _` \ \/ /   | | | __| | |  | | '_ \  | |
# | |  | | (_| |>  <   _| |_| |_  | |__| | |_) | |_|
# |_|  |_|\__,_/_/\_\ |_____|\__|  \____/| .__/  (_)
#                                        | |
#                                        |_|
#

echo "[âœ‹] MaxItUp is a tool to create a setup script for newly formatted Mac devices."
echo "[ğŸ˜‰] Just start selecting items from the left pane and watch how the script is updating!"
echo "[ğŸ’»] Move to your download directory and use your terminal to run the script and install selected apps and packages by running 'sh setup.sh'"
echo "[ğŸ‘‹] Visit https://max-itup.github.io/mac/ for more details"`;

<SETUP>
echo "[ğŸš€] Starting setup"
# Install Homebrew if not already installed
if test ! $(which brew); then
    echo "[ğŸº] Installing homebrew..."
    ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
fi
echo "[ğŸº] Updating homebrew..."
brew update
</SETUP>

<PACKAGES>
PACKAGES=(
    {{CODES}}
)
echo "[ğŸº] Installing brew packages..."
brew install \${PACKAGES[@]}
</PACKAGES>

<CASKS>
CASKS=(
    {{CODES}}
)
echo "[ğŸº] Installing cask apps..."
brew cask install \${CASKS[@]}
</CASKS>

<GEMS>
GEMS=(
    {{CODES}}
)
echo "[ğŸ’] Installing Ruby gems..."
sudo gem install \${GEMS[@]}
</GEMS>

<CLEANUP>
echo "[ğŸ§¼] Cleaning up..."
brew cleanup -s
</CLEANUP>

<OS_SETTINGS>
{{CODES}}
</OS_SETTINGS>

<SUCCESS>
echo "[ğŸ‰] Setup complete!"
</SUCCESS>